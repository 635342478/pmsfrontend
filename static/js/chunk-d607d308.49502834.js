(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d607d308"],{"0d82":function(e,t,r){},4565:function(e,t,r){"use strict";r("6bec")},4941:function(e,t,r){"use strict";r("0d82")},"6bec":function(e,t,r){},d5c2:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"registWrapper"},[r("div",{staticClass:"header"},[r("div",{staticClass:"logo-container"},[r("img",{attrs:{src:e.companyLogo}})])]),r("div",{staticClass:"register-container"},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v("欢迎注册"+e._s(e.softName))])]),r("el-form",{ref:"registerForm",staticClass:"registerForm",attrs:{model:e.editFrom,rules:e.registerRules,"label-position":"right"}},[r("el-form-item",{attrs:{prop:"Account"}},[r("el-input",{attrs:{placeholder:"请输入登录系统账号",autocomplete:"off",clearable:""},model:{value:e.editFrom.Account,callback:function(t){e.$set(e.editFrom,"Account",t)},expression:"editFrom.Account"}})],1),r("el-form-item",{attrs:{prop:"Email"}},[r("el-input",{attrs:{placeholder:"请输入Email @",autocomplete:"off",clearable:""},model:{value:e.editFrom.Email,callback:function(t){e.$set(e.editFrom,"Email",t)},expression:"editFrom.Email"}})],1),r("el-form-item",{attrs:{prop:"Password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码",autocomplete:"off",clearable:""},model:{value:e.editFrom.Password,callback:function(t){e.$set(e.editFrom,"Password",t)},expression:"editFrom.Password"}})],1),r("el-form-item",{attrs:{prop:"Password2"}},[r("el-input",{attrs:{type:"password",placeholder:"请再输入一遍密码",autocomplete:"off",clearable:""},model:{value:e.editFrom.Password2,callback:function(t){e.$set(e.editFrom,"Password2",t)},expression:"editFrom.Password2"}})],1),r("el-form-item",{attrs:{prop:"VerificationCode"}},[r("el-input",{staticStyle:{width:"150px",float:"left"},attrs:{placeholder:"请输入验证码",maxlength:"4",autocomplete:"off",clearable:""},model:{value:e.editFrom.VerificationCode,callback:function(t){e.$set(e.editFrom,"VerificationCode",t)},expression:"editFrom.VerificationCode"}}),r("div",{staticStyle:{display:"inline",float:"left","margin-right":"10px","margin-left":"10px"}},[r("img",{staticStyle:{cursor:"pointer","vertical-align":"middle"},attrs:{src:e.verifyCodeUrl,alt:"看不清？点击更换"},on:{click:e.getLoginVerifyCode}})])],1),r("el-form-item",{attrs:{prop:"checkAgreement"}},[r("el-checkbox-group",{model:{value:e.editFrom.checkAgreement,callback:function(t){e.$set(e.editFrom,"checkAgreement",t)},expression:"editFrom.checkAgreement"}},[r("el-checkbox",{attrs:{label:"true"}},[e._v("我已阅读并同意"),r("a",{attrs:{href:"#"}},[e._v(" 服务协议")]),e._v(" 、 "),r("a",{attrs:{href:"#"}},[e._v("隐私声明")])])],1)],1),r("el-form-item",[r("el-button",{staticStyle:{width:"200px"},attrs:{type:"primary"},on:{click:function(t){return e.handleLogin()}}},[e._v("同意协议并提交")])],1),r("el-form-item",[r("router-link",{attrs:{to:{path:"/"}}},[e._v("登录已有账号")])],1)],1)],1),r("div",{staticClass:"footer",attrs:{id:"footer",role:"contentinfo"}},[r("div",{staticClass:"footerNodelf text-secondary"},[r("span",[e._v("本软件使用权属于："+e._s(e.companyName))])]),r("div",{staticClass:"footerNode text-secondary"},[r("span",{domProps:{innerHTML:e._s(e.copyRight)}},[e._v(e._s(e.copyRight))])])])])},a=[],i=r("1da1"),s=(r("96cf"),r("5f87")),n=r("ae0d"),c=r("2076"),l={name:"Register",data:function(){var e=this,t=function(e,t,r){t.length<1?r(new Error("请输入登录账号！")):r()},r=function(e,t,r){t.length<6?r(new Error("请输入您的账号密码,且不小于6位！")):r()},o=function(e,t,r){var o=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return r(new Error("邮箱不能为空"));setTimeout((function(){o.test(t)?r():r(new Error("请输入正确的邮箱格式"))}),100)},a=function(t,r,o){""===r?o(new Error("请再次输入密码")):r!==e.editFrom.Password?o(new Error("两次输入密码不一致!")):o()};return{editFrom:{Account:"",Email:"",Password:"",Password2:"",VerificationCode:"",VerifyCodeKey:"",checkAgreement:[]},registerRules:{Account:[{required:!0,trigger:"blur",validator:t}],Password:[{required:!0,trigger:"blur",validator:r}],Password2:[{required:!0,trigger:"blur",validator:a}],Email:[{required:!0,trigger:"blur",validator:o}],VerificationCode:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:4,message:"长度4字符",trigger:"blur"}],checkAgreement:[{type:"array",required:!0,trigger:"change",message:"请勾选同意协议内容"}]},verifyCodeUrl:"",formLabelWidth:"100px",loading:!1,softName:"管理系统",companyLogo:"/assets/images/login-logo.png",companyName:"",copyRight:""}},created:function(){this.loadToken(),this.getLoginVerifyCode()},methods:{loadToken:function(){var e=this;Object(n["g"])().then((function(t){Object(s["c"])(t.ResData.AccessToken),Object(n["f"])().then((function(t){e.softName=t.ResData.SoftName,e.companyLogo=t.ResData.SysLogo,e.companyName=t.ResData.CompanyName,e.copyRight=t.ResData.CopyRight}))}))},handleLogin:function(){var e=this;this.$refs["registerForm"].validate((function(t){if(!t)return!1;if(e.editFrom.checkAgreement){e.loading=!0;var r=e.editFrom;Object(c["g"])(r).then((function(t){t.Success?(e.$message({message:"恭喜你，注册成功",type:"success"}),setTimeout(e.$router.push("/"),1e3)):e.$message({message:t.ErrMsg,type:"error"}),e.loading=!1})).catch((function(t){e.loading=!1}))}else new Error("请勾选同意协议内容")}))},getLoginVerifyCode:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editFrom.VerificationCode="",t.next=3,Object(n["i"])();case 3:r=t.sent,r.Success&&(e.verifyCodeUrl="data:image/png;base64,"+r.ResData.Img,e.editFrom.VerifyCodeKey=r.ResData.Key);case 5:case"end":return t.stop()}}),t)})))()}}},d=l,m=(r("4565"),r("4941"),r("2877")),u=Object(m["a"])(d,o,a,!1,null,"692c0be4",null);t["default"]=u.exports}}]);