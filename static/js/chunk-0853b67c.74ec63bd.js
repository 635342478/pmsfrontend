(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0853b67c"],{"08e1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"editFrom",staticClass:"yuebon-setting-form",attrs:{model:e.editFrom,rules:e.rules}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-form-item",{attrs:{label:"头像","label-width":e.formLabelWidth,prop:"HeadIcon"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.httpFileUploadUrl,headers:e.headers,"show-file-list":!1,"on-success":e.uploadFileSuccess}},[e.editFrom.HeadIcon?a("img",{staticClass:"avatar",attrs:{src:e.editFrom.HeadIcon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("el-dialog",{attrs:{visible:e.dialogHeadIconVisible},on:{"update:visible":function(t){e.dialogHeadIconVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogHeadIconImageUrl,alt:""}})])],1),a("el-form-item",{attrs:{label:"账号","label-width":e.formLabelWidth,prop:"Account"}},[a("el-input",{attrs:{placeholder:"请输入登录系统账号",autocomplete:"off",clearable:""},model:{value:e.editFrom.Account,callback:function(t){e.$set(e.editFrom,"Account",t)},expression:"editFrom.Account"}})],1),a("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"RealName"}},[a("el-input",{attrs:{placeholder:"请输入姓名",autocomplete:"off",clearable:""},model:{value:e.editFrom.RealName,callback:function(t){e.$set(e.editFrom,"RealName",t)},expression:"editFrom.RealName"}})],1),a("el-form-item",{attrs:{label:"昵称","label-width":e.formLabelWidth,prop:"NickName"}},[a("el-input",{attrs:{placeholder:"请输入昵称",autocomplete:"off",clearable:""},model:{value:e.editFrom.NickName,callback:function(t){e.$set(e.editFrom,"NickName",t)},expression:"editFrom.NickName"}})],1),a("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth,prop:"Gender"}},[a("el-radio-group",{model:{value:e.editFrom.Gender,callback:function(t){e.$set(e.editFrom,"Gender",t)},expression:"editFrom.Gender"}},[a("el-radio",{attrs:{label:"1"}},[e._v("男")]),a("el-radio",{attrs:{label:"0"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth,prop:"MobilePhone"}},[a("el-input",{attrs:{placeholder:"请输入手机号",autocomplete:"off",clearable:""},model:{value:e.editFrom.MobilePhone,callback:function(t){e.$set(e.editFrom,"MobilePhone",t)},expression:"editFrom.MobilePhone"}})],1),a("el-form-item",{attrs:{label:"微信号","label-width":e.formLabelWidth,prop:"WeChat"}},[a("el-input",{attrs:{placeholder:"请输入微信号",autocomplete:"off",clearable:""},model:{value:e.editFrom.WeChat,callback:function(t){e.$set(e.editFrom,"WeChat",t)},expression:"editFrom.WeChat"}})],1),a("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth,prop:"Email"}},[a("el-input",{attrs:{placeholder:"请输入Email @",autocomplete:"off",clearable:""},model:{value:e.editFrom.Email,callback:function(t){e.$set(e.editFrom,"Email",t)},expression:"editFrom.Email"}})],1),a("el-form-item",{attrs:{label:"出身日期","label-width":e.formLabelWidth,prop:"Birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.editFrom.Birthday,callback:function(t){e.$set(e.editFrom,"Birthday",t)},expression:"editFrom.Birthday"}})],1),a("el-form-item",{attrs:{label:"选项","label-width":e.formLabelWidth,prop:""}},[a("el-checkbox",{model:{value:e.editFrom.EnabledMark,callback:function(t){e.$set(e.editFrom,"EnabledMark",t)},expression:"editFrom.EnabledMark"}},[e._v("启用")]),a("el-checkbox",{model:{value:e.editFrom.IsAdministrator,callback:function(t){e.$set(e.editFrom,"IsAdministrator",t)},expression:"editFrom.IsAdministrator"}},[e._v("管理员")])],1),a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"所属组织","label-width":e.formLabelWidth,prop:"DepartmentId"}},[a("el-cascader",{staticStyle:{width:"500px"},attrs:{options:e.selectOrganize,filterable:"",props:{label:"FullName",value:"Id",children:"Children",emitPath:!1,checkStrictly:!0,expandTrigger:"hover"},clearable:""},on:{change:e.handleSelectOrganizeChange},model:{value:e.selectedOrganizeOptions,callback:function(t){e.selectedOrganizeOptions=t},expression:"selectedOrganizeOptions"}})],1),a("el-form-item",{attrs:{label:"岗位角色","label-width":e.formLabelWidth,prop:"RoleId"}},[a("el-select",{staticStyle:{width:"500px"},attrs:{multiple:"",clearable:"",disabled:"",placeholder:"请选择"},model:{value:e.editFrom.RoleId,callback:function(t){e.$set(e.editFrom,"RoleId",t)},expression:"editFrom.RoleId"}},e._l(e.selectRole,(function(e){return a("el-option",{key:e.Id,attrs:{label:e.FullName,value:e.Id}})})),1)],1),a("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth,prop:"Description"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"",autocomplete:"off",clearable:""},model:{value:e.editFrom.Description,callback:function(t){e.$set(e.editFrom,"Description",t)},expression:"editFrom.Description"}})],1)],1)],1),a("el-form-item",[a("el-button",{staticClass:"btnset",attrs:{type:"primary"},on:{click:function(t){return e.saveEditForm()}}},[e._v("保 存")])],1)],1)],1)},i=[],l=a("5530"),o=(a("b0c0"),a("ac1f"),a("1276"),a("a15b"),a("2f62")),n=a("83d6"),d=a.n(n),c=a("2076"),s=a("dfa7"),m=a("7359"),u=a("5f87"),b={name:"Usercenter",data:function(){return{activeName:"first",selectRole:[],selectedOrganizeOptions:"",selectOrganize:[],editFrom:{Account:"",HeadIcon:"",RealName:"",NickName:"",Gender:"1",Birthday:"",MobilePhone:"",Email:"",WeChat:"",DepartmentId:"",RoleId:"",IsAdministrator:!0,EnabledMark:!0,Description:""},rules:{RealName:[{required:!0,message:"请输入系统名称",trigger:"blur"},{min:2,max:50,message:"长度在 6 到 32 个字符",trigger:"blur"}],MobilePhone:[{required:!0,message:"请输入访问地址",trigger:"blur"},{min:2,max:50,message:"长度在 6 到 32 个字符",trigger:"blur"}]},httpFileUploadUrl:d.a.fileUploadUrl,dialogHeadIconVisible:!1,dialogHeadIconImageUrl:"",filelist:[],formLabelWidth:"100px",headers:[]}},computed:Object(l["a"])({},Object(o["b"])(["name"])),created:function(){this.InitDictItem(),this.bindEditInfo(),this.headers={Authorization:"Bearer "+(Object(u["a"])()||"")}},methods:{InitDictItem:function(){var e=this;Object(s["e"])().then((function(t){e.selectRole=t.ResData})),Object(m["c"])().then((function(t){e.selectOrganize=t.ResData}))},handleClick:function(e,t){console.log(e,t)},handleSelectOrganizeChange:function(){this.editFrom.OrganizeId=this.selectedOrganizeOptions},handleRemove:function(e,t){this.editFrom.SysLogo=e.url},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},bindEditInfo:function(){var e=this;Object(c["c"])(this.name).then((function(t){e.editFrom.Account=t.ResData.Account,e.editFrom.RealName=t.ResData.RealName,e.editFrom.NickName=t.ResData.NickName,e.editFrom.Gender=t.ResData.Gender+"",e.editFrom.Birthday=t.ResData.Birthday,e.editFrom.MobilePhone=t.ResData.MobilePhone,e.editFrom.Email=t.ResData.Email,e.editFrom.WeChat=t.ResData.WeChat,e.editFrom.DepartmentId=t.ResData.DepartmentId,e.editFrom.IsAdministrator=t.ResData.IsAdministrator,e.editFrom.EnabledMark=t.ResData.EnabledMark,e.editFrom.RoleId=t.ResData.RoleId.split(","),e.editFrom.Description=t.ResData.Description,e.selectedOrganizeOptions=t.ResData.DepartmentId,e.currentId=t.ResData.Id,e.editFrom.HeadIcon=t.ResData.HeadIcon,e.filelist=[{name:t.ResData.HeadIcon,url:t.ResData.HeadIcon}]}))},saveEditForm:function(){var e=this;console.log(this.editFrom.RoleId),this.$refs["editFrom"].validate((function(t){if(!t)return!1;var a={Account:e.editFrom.Account,RealName:e.editFrom.RealName,NickName:e.editFrom.NickName,Gender:e.editFrom.Gender,Birthday:e.editFrom.Birthday,MobilePhone:e.editFrom.MobilePhone,Email:e.editFrom.Email,WeChat:e.editFrom.WeChat,DepartmentId:e.editFrom.DepartmentId,IsAdministrator:e.editFrom.IsAdministrator,EnabledMark:e.editFrom.EnabledMark,RoleId:e.editFrom.RoleId.join(","),Description:e.editFrom.Description,HeadIcon:e.editFrom.HeadIcon,Id:e.currentId},r="User/Update";Object(c["j"])(a,r).then((function(t){t.Success?(e.$message({message:"恭喜你，操作成功",type:"success"}),e.selectedOrganizeOptions="",e.$refs["editFrom"].resetFields(),e.bindEditInfo()):e.$message({message:t.ErrMsg,type:"error"})}))}))},uploadFileSuccess:function(e,t,a){this.editFrom.HeadIcon=d.a.fileUrl+e.ResData.FilePath}}},p=b,h=(a("5687"),a("2877")),f=Object(h["a"])(p,r,i,!1,null,"6893397f",null);t["default"]=f.exports},5687:function(e,t,a){"use strict";a("e8c5")},7359:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return d})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return m}));var r=a("b775"),i=a("83d6"),l=a.n(i);function o(){return r["a"].request({url:"Organize/GetAllOrganizeTreeTable",method:"get",baseURL:l.a.apiSecurityUrl})}function n(e,t){return r["a"].request({url:t,method:"post",data:e,baseURL:l.a.apiSecurityUrl})}function d(e){return Object(r["a"])({url:"Organize/GetById",method:"get",params:{id:e},baseURL:l.a.apiSecurityUrl})}function c(e){return Object(r["a"])({url:"Organize/SetEnabledMarktBatchAsync",method:"post",data:e,baseURL:l.a.apiSecurityUrl})}function s(e){return Object(r["a"])({url:"Organize/DeleteSoftBatchAsync",method:"post",data:e,baseURL:l.a.apiSecurityUrl})}function m(e){return Object(r["a"])({url:"Organize/DeleteBatchAsync",method:"delete",data:e,baseURL:l.a.apiSecurityUrl})}},dfa7:function(e,t,a){"use strict";a.d(t,"h",(function(){return o})),a.d(t,"e",(function(){return n})),a.d(t,"i",(function(){return d})),a.d(t,"g",(function(){return c})),a.d(t,"k",(function(){return s})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return b})),a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"j",(function(){return f}));var r=a("b775"),i=a("83d6"),l=a.n(i);function o(e){return r["a"].request({url:"Role/FindWithPagerAsync",method:"post",data:e,baseURL:l.a.apiSecurityUrl})}function n(){return r["a"].request({url:"Role/GetAllEnable",method:"get",baseURL:l.a.apiSecurityUrl})}function d(e,t){return r["a"].request({url:t,method:"post",data:e,baseURL:l.a.apiSecurityUrl})}function c(e){return Object(r["a"])({url:"Role/GetById",method:"get",params:{id:e},baseURL:l.a.apiSecurityUrl})}function s(e){return Object(r["a"])({url:"Role/SetEnabledMarktBatchAsync",method:"post",data:e,baseURL:l.a.apiSecurityUrl})}function m(e){return Object(r["a"])({url:"Role/DeleteSoftBatchAsync",method:"post",data:e,baseURL:l.a.apiSecurityUrl})}function u(e){return Object(r["a"])({url:"Role/DeleteBatchAsync",method:"delete",data:e,baseURL:l.a.apiSecurityUrl})}function b(){return Object(r["a"])({url:"RoleAuthorize/GetAllFunctionTree",method:"get",baseURL:l.a.apiSecurityUrl})}function p(e){return Object(r["a"])({url:"RoleAuthorize/GetRoleAuthorizeFunction",method:"get",params:e,baseURL:l.a.apiSecurityUrl})}function h(e){return Object(r["a"])({url:"RoleData/GetAllRoleDataByRoleId",method:"get",params:e,baseURL:l.a.apiSecurityUrl})}function f(e){return r["a"].request({url:"RoleAuthorize/SaveRoleAuthorize",method:"post",data:e,timeout:0,baseURL:l.a.apiSecurityUrl})}},e8c5:function(e,t,a){}}]);